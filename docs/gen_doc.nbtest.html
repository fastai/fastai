---

title: gen_doc.nbtest
keywords: fastai
sidebar: home_sidebar

summary: "Helper functions to search for api tests"
---
<!--


#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: docs_src/gen_doc.nbtest.ipynb
# instructions: https://docs.fast.ai/gen_doc_main.html

-->

<div class="container" id="notebook-container">
    
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Functional-Test-Documentation">Functional Test Documentation<a class="anchor-link" href="#Functional-Test-Documentation">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Generates documentation for fastai's functional tests</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Find-tests-for-any-function/class">Find tests for any function/class<a class="anchor-link" href="#Find-tests-for-any-function/class">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a href="/gen_doc.nbtest.html#show_test"><code>show_test</code></a> and <a href="/gen_doc.nbtest.html#doctest"><code>doctest</code></a> searches for any implemented tests for a given fastai class or function</p>
<p>For test writers:</p>
<ul>
<li>Use this module to search for tests and get a better idea on which parts of the fastai api need more functional tests</li>
</ul>
<p>For fastai users:</p>
<ul>
<li>Usage is similar to <a href="/gen_doc.nbdoc.html#show_doc"><code>nbdoc.show_doc</code></a> and <a href="/gen_doc.nbdoc.html#doc"><code>nbdoc.doc</code></a>.  </li>
<li>It's here to help you find associated tests for a given function can help understand usage. </li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Usage:">Usage:<a class="anchor-link" href="#Usage:">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="show_test" class="doc_header"><code>show_test</code><a href="https://github.com/fastai/fastai/blob/master/fastai/gen_doc/nbtest.py#L20" class="source_link" style="float:right">[source]</a><a class="source_link" data-toggle="collapse" data-target="#show_test-pytest" style="float:right; padding-right:10px">[test]</a></h4><blockquote><p><code>show_test</code>(<strong><code>elt</code></strong>) → <code>str</code></p>
</blockquote>
<div class="collapse" id="show_test-pytest"><div class="card card-body pytest_card"><a type="button" data-toggle="collapse" data-target="#show_test-pytest" class="close" aria-label="Close"><span aria-hidden="true">&times;</span></a><p>No tests found for <code>show_test</code>. To contribute a test please refer to <a href="/dev/test.html">this guide</a> and <a href="https://forums.fast.ai/t/improving-expanding-functional-tests/32929">this discussion</a>.</p></div></div><p>Show associated tests for a fastai function/class</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Show tests from function</strong></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">fastai.basic_train</span> <span class="kn">import</span> <span class="n">Learner</span>
<span class="n">show_test</span><span class="p">(</span><span class="n">Learner</span><span class="o">.</span><span class="n">fit</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<p>Tests found for <code>fit</code>:</p>
<ul>
<li><code>pytest -sv tests/test_train.py::test_fit</code> <a href="https://github.com/fastai/fastai/blob/master/tests/test_train.py#L28" class="source_link" style="float:right">[source]</a></li>
</ul>
<p>Some other tests where <code>fit</code> is used:</p>
<ul>
<li><code>pytest -sv tests/test_basic_train.py::test_destroy</code> <a href="https://github.com/fastai/fastai/blob/master/tests/test_basic_train.py#L156" class="source_link" style="float:right">[source]</a></li>
</ul>
<p>To run tests please refer to this <a href="/dev/test.html#quick-guide">guide</a>.</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Show tests from a Class</strong></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">fastai.basic_data</span> <span class="kn">import</span> <span class="n">DataBunch</span>
<span class="n">show_test</span><span class="p">(</span><span class="n">DataBunch</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<p>Tests found for <code>DataBunch</code>:</p>
<ul>
<li><code>pytest -sv tests/test_data_block.py::test_custom_dataset</code> <a href="https://github.com/fastai/fastai/blob/master/tests/test_data_block.py#L152" class="source_link" style="float:right">[source]</a></li>
</ul>
<p>Some other tests where <code>DataBunch</code> is used:</p>
<ul>
<li><code>pytest -sv tests/test_basic_data.py::test_DataBunch_Create</code> <a href="https://github.com/fastai/fastai/blob/master/tests/test_basic_data.py#L30" class="source_link" style="float:right">[source]</a></li>
<li><code>pytest -sv tests/test_basic_data.py::test_DataBunch_no_valid_dl</code> <a href="https://github.com/fastai/fastai/blob/master/tests/test_basic_data.py#L45" class="source_link" style="float:right">[source]</a></li>
<li><code>pytest -sv tests/test_basic_data.py::test_DataBunch_save_load</code> <a href="https://github.com/fastai/fastai/blob/master/tests/test_basic_data.py#L85" class="source_link" style="float:right">[source]</a></li>
</ul>
<p>To run tests please refer to this <a href="/dev/test.html#quick-guide">guide</a>.</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">fastai.text.data</span> <span class="kn">import</span> <span class="n">TextList</span>
<span class="n">show_test</span><span class="p">(</span><span class="n">TextList</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<p>Tests found for <code>TextList</code>:</p>
<p>Some other tests where <code>TextList</code> is used:</p>
<ul>
<li><code>pytest -sv tests/test_text_data.py::test_filter_classes</code> <a href="https://github.com/fastai/fastai/blob/master/tests/test_text_data.py#L42" class="source_link" style="float:right">[source]</a></li>
<li><code>pytest -sv tests/test_text_data.py::test_from_folder</code> <a href="https://github.com/fastai/fastai/blob/master/tests/test_text_data.py#L30" class="source_link" style="float:right">[source]</a></li>
<li><code>pytest -sv tests/test_text_data.py::test_regression</code> <a href="https://github.com/fastai/fastai/blob/master/tests/test_text_data.py#L205" class="source_link" style="float:right">[source]</a></li>
</ul>
<p>To run tests please refer to this <a href="/dev/test.html#quick-guide">guide</a>.</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Different-test-types">Different test types<a class="anchor-link" href="#Different-test-types">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Above, you will see 2 different test types: <code>Tests found for...</code> and <code>Some other tests...</code></p>
<ul>
<li><code>Tests found for...</code> - Searches for function matches in <code>test_registry.json</code>. This json file is populated from <code>doctest.this_tests</code> calls.</li>
<li><code>Some other tests...</code> - Returns any test function where the fastai function in called inside the body</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Show-in-notebook-inline:">Show in notebook inline:<a class="anchor-link" href="#Show-in-notebook-inline:">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="doctest" class="doc_header"><code>doctest</code><a href="https://github.com/fastai/fastai/blob/master/fastai/gen_doc/nbtest.py#L25" class="source_link" style="float:right">[source]</a><a class="source_link" data-toggle="collapse" data-target="#doctest-pytest" style="float:right; padding-right:10px">[test]</a></h4><blockquote><p><code>doctest</code>(<strong><code>elt</code></strong>)</p>
</blockquote>
<div class="collapse" id="doctest-pytest"><div class="card card-body pytest_card"><a type="button" data-toggle="collapse" data-target="#doctest-pytest" class="close" aria-label="Close"><span aria-hidden="true">&times;</span></a><p>Tests found for <code>doctest</code>:</p><p>Some other tests where <code>doctest</code> is used:</p><ul><li><code>pytest -sv tests/test_gen_doc_nbtest.py::test_this_tests</code> <a href="https://github.com/fastai/fastai/blob/master/tests/test_gen_doc_nbtest.py#L75" class="source_link" style="float:right">[source]</a></li></ul><p>To run tests please refer to this <a href="/dev/test.html#quick-guide">guide</a>.</p></div></div><p>Inline notebook popup for <a href="/gen_doc.nbtest.html#show_test"><code>show_test</code></a></p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Internal-search-methods">Internal search methods<a class="anchor-link" href="#Internal-search-methods">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="lookup_db" class="doc_header"><code>lookup_db</code><a href="https://github.com/fastai/fastai/blob/master/fastai/gen_doc/nbtest.py#L71" class="source_link" style="float:right">[source]</a><a class="source_link" data-toggle="collapse" data-target="#lookup_db-pytest" style="float:right; padding-right:10px">[test]</a></h4><blockquote><p><code>lookup_db</code>(<strong><code>elt</code></strong>) → <code>List</code>[<code>Dict</code>[<code>KT</code>, <code>VT</code>]]</p>
</blockquote>
<div class="collapse" id="lookup_db-pytest"><div class="card card-body pytest_card"><a type="button" data-toggle="collapse" data-target="#lookup_db-pytest" class="close" aria-label="Close"><span aria-hidden="true">&times;</span></a><p>No tests found for <code>lookup_db</code>. To contribute a test please refer to <a href="/dev/test.html">this guide</a> and <a href="https://forums.fast.ai/t/improving-expanding-functional-tests/32929">this discussion</a>.</p></div></div><p>Finds <code>this_test</code> entries from test_registry.json</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="find_related_tests" class="doc_header"><code>find_related_tests</code><a href="https://github.com/fastai/fastai/blob/master/fastai/gen_doc/nbtest.py#L81" class="source_link" style="float:right">[source]</a><a class="source_link" data-toggle="collapse" data-target="#find_related_tests-pytest" style="float:right; padding-right:10px">[test]</a></h4><blockquote><p><code>find_related_tests</code>(<strong><code>elt</code></strong>) → <code>Tuple</code>[<code>List</code>[<code>Dict</code>[<code>KT</code>, <code>VT</code>]], <code>List</code>[<code>Dict</code>[<code>KT</code>, <code>VT</code>]]]</p>
</blockquote>
<div class="collapse" id="find_related_tests-pytest"><div class="card card-body pytest_card"><a type="button" data-toggle="collapse" data-target="#find_related_tests-pytest" class="close" aria-label="Close"><span aria-hidden="true">&times;</span></a><p>No tests found for <code>find_related_tests</code>. To contribute a test please refer to <a href="/dev/test.html">this guide</a> and <a href="https://forums.fast.ai/t/improving-expanding-functional-tests/32929">this discussion</a>.</p></div></div><p>Searches <code>fastai/tests</code> folder for any test functions related to <code>elt</code></p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="find_test_matches" class="doc_header"><code>find_test_matches</code><a href="https://github.com/fastai/fastai/blob/master/fastai/gen_doc/nbtest.py#L122" class="source_link" style="float:right">[source]</a><a class="source_link" data-toggle="collapse" data-target="#find_test_matches-pytest" style="float:right; padding-right:10px">[test]</a></h4><blockquote><p><code>find_test_matches</code>(<strong><code>elt</code></strong>, <strong><code>test_file</code></strong>:<code>Path</code>) → <code>Tuple</code>[<code>List</code>[<code>Dict</code>[<code>KT</code>, <code>VT</code>]], <code>List</code>[<code>Dict</code>[<code>KT</code>, <code>VT</code>]]]</p>
</blockquote>
<div class="collapse" id="find_test_matches-pytest"><div class="card card-body pytest_card"><a type="button" data-toggle="collapse" data-target="#find_test_matches-pytest" class="close" aria-label="Close"><span aria-hidden="true">&times;</span></a><p>No tests found for <code>find_test_matches</code>. To contribute a test please refer to <a href="/dev/test.html">this guide</a> and <a href="https://forums.fast.ai/t/improving-expanding-functional-tests/32929">this discussion</a>.</p></div></div><p>Find all functions in <code>test_file</code> related to <code>elt</code></p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="find_test_files" class="doc_header"><code>find_test_files</code><a href="https://github.com/fastai/fastai/blob/master/fastai/gen_doc/nbtest.py#L100" class="source_link" style="float:right">[source]</a><a class="source_link" data-toggle="collapse" data-target="#find_test_files-pytest" style="float:right; padding-right:10px">[test]</a></h4><blockquote><p><code>find_test_files</code>(<strong><code>elt</code></strong>, <strong><code>exact_match</code></strong>:<code>bool</code>=<strong><em><code>False</code></em></strong>) → <code>List</code>[<code>Path</code>]</p>
</blockquote>
<div class="collapse" id="find_test_files-pytest"><div class="card card-body pytest_card"><a type="button" data-toggle="collapse" data-target="#find_test_files-pytest" class="close" aria-label="Close"><span aria-hidden="true">&times;</span></a><p>No tests found for <code>find_test_files</code>. To contribute a test please refer to <a href="/dev/test.html">this guide</a> and <a href="https://forums.fast.ai/t/improving-expanding-functional-tests/32929">this discussion</a>.</p></div></div><p>Searches in <code>fastai/tests</code> directory for module tests</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="fuzzy_test_match" class="doc_header"><code>fuzzy_test_match</code><a href="https://github.com/fastai/fastai/blob/master/fastai/gen_doc/nbtest.py#L143" class="source_link" style="float:right">[source]</a><a class="source_link" data-toggle="collapse" data-target="#fuzzy_test_match-pytest" style="float:right; padding-right:10px">[test]</a></h4><blockquote><p><code>fuzzy_test_match</code>(<strong><code>fn_name</code></strong>:<code>str</code>, <strong><code>lines</code></strong>:<code>List</code>[<code>Dict</code>[<code>KT</code>, <code>VT</code>]], <strong><code>rel_path</code></strong>:<code>str</code>) → <code>List</code>[<a href="/gen_doc.nbtest.html#TestFunctionMatch"><code>TestFunctionMatch</code></a>]</p>
</blockquote>
<div class="collapse" id="fuzzy_test_match-pytest"><div class="card card-body pytest_card"><a type="button" data-toggle="collapse" data-target="#fuzzy_test_match-pytest" class="close" aria-label="Close"><span aria-hidden="true">&times;</span></a><p>Tests found for <code>fuzzy_test_match</code>:</p><ul><li><code>pytest -sv tests/test_gen_doc_nbtest.py::test_fuzzy_test_match</code> <a href="https://github.com/fastai/fastai/blob/master/tests/test_gen_doc_nbtest.py#L38" class="source_link" style="float:right">[source]</a></li></ul><p>To run tests please refer to this <a href="/dev/test.html#quick-guide">guide</a>.</p></div></div><p>Find any lines where <code>fn_name</code> is invoked and return the parent test function</p>

</div>

</div>

</div>
</div>

</div>
</div>
 

